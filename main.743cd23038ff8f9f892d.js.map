{"version":3,"sources":["webpack:///./templates/countries/country.hbs","webpack:///./templates/countries/countries-list.hbs","webpack:///./js/services/countries-service.js","webpack:///./js/plugins/loader.js","webpack:///./js/countries.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","name","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","call","capital","population","each","languages","program","noop","borders","flag","query","fetchCountries","requestParams","this","fetch","baseUrl","then","response","json","console","log","value","loader","document","querySelector","showLoader","classList","remove","hideLoader","add","debounce","require","refs","searchInput","countriesList","countryContainer","addEventListener","e","searchValue","target","trim","length","countriesService","innerHTML","countries","PNotify","error","delay","text","modules","Buttons","sticker","stickerHover","markup","countriesListTpl","insertAdjacentHTML","renderCountries","map","country","countryTpl","renderCountry"],"mappings":"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","file":"main.743cd23038ff8f9f892d.js","sourcesContent":["var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"                <li class=\\\"languages-list-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<h2 class=\\\"country-title\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":26},\"end\":{\"line\":1,\"column\":34}}}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"country-wrapper\\\">\\r\\n    <ul class=\\\"country-details-list\\\">\\r\\n        <li class=\\\"country-details-list-item\\\"><b>Capital: </b>\"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":62},\"end\":{\"line\":4,\"column\":73}}}) : helper)))\n    + \"</li>\\r\\n        <li class=\\\"country-details-list-item\\\"><b>Population: </b>\"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":65},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"</li>\\r\\n        <li class=\\\"country-details-list-item\\\">\\r\\n            <b>Languages: </b>\\r\\n            <ul class=\\\"languages-list\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":11,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </ul> \\r\\n        </li>\\r\\n        <li class=\\\"country-details-list-item\\\"><b>Borders: </b>\"\n    + alias4(((helper = (helper = helpers.borders || (depth0 != null ? depth0.borders : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"borders\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":62},\"end\":{\"line\":14,\"column\":73}}}) : helper)))\n    + \"</li>\\r\\n    </ul>\\r\\n    <img class=\\\"country-flag\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":35},\"end\":{\"line\":16,\"column\":43}}}) : helper)))\n    + \"\\\" alt=\\\"flag\\\" width=\\\"400\\\">\\r\\n</div>\\r\\n\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <li class=\\\"countries-list-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const baseUrl = 'https://restcountries.eu/rest/v2';\r\nconst resource = '/name/';\r\n\r\nexport default {\r\n    query: '',\r\n\r\n    fetchCountries() {\r\n\r\n        const requestParams = `${this.query}`;\r\n\r\n        return fetch(baseUrl + resource + requestParams)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                return data;\r\n            });\r\n\r\n    },\r\n\r\n    get searchQuery() {\r\n        return this.query;\r\n    },\r\n\r\n    set searchQuery(value) {\r\n        this.query = value;\r\n    },\r\n}","const loader = document.querySelector('.loader-overlay');\r\n\r\nexport default {\r\n    showLoader() {\r\n        loader.classList.remove('js-hide');\r\n    },\r\n\r\n    hideLoader() {\r\n        loader.classList.add('js-hide');\r\n    }\r\n}","import countriesListTpl from '../templates/countries/countries-list.hbs';\r\nimport countryTpl from '../templates/countries/country.hbs';\r\n// Notifications plugin\r\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify.js';\r\nimport PNotifyButtons from '../../node_modules/pnotify/dist/es/PNotifyButtons.js';\r\nimport '../../node_modules/pnotify/dist/PNotifyBrightTheme.css';\r\n\r\nimport countriesService from './services/countries-service.js';\r\nimport loader from './plugins/loader.js';\r\n\r\nconst debounce = require('lodash.debounce');\r\n\r\nconst refs = {\r\n    searchInput: document.querySelector('input[data-value=\"query\"]'),\r\n    countriesList: document.querySelector('ul.js-countries-list'),\r\n    countryContainer: document.querySelector('div.js-country'),\r\n}\r\n\r\nrefs.searchInput.addEventListener('input', debounce(searchInputHandler, 500) );\r\n\r\nfunction searchInputHandler(e) {\r\n     const searchValue = e.target.value;\r\n    //  Check if value contains only spaces\r\n     if (searchValue.trim().length === 0) {\r\n         return;\r\n     }\r\n\r\n     countriesService.query = searchValue;\r\n     \r\n     clearCountriesData();\r\n\r\n     fetchCountries();\r\n}\r\n\r\nfunction fetchCountries() {\r\n    loader.showLoader();\r\n\r\n    countriesService.fetchCountries()\r\n        .then(countries => {\r\n\r\n            if (countries.length > 10) {\r\n                // show notification\r\n                PNotify.error({\r\n                    delay: 5000,\r\n                    text: 'Too many matches found. Please enter a more specific query!',\r\n                    modules: {\r\n                        Buttons: {\r\n                            sticker: false,\r\n                            stickerHover: false,\r\n                        }\r\n                    }\r\n                });\r\n                \r\n            } else if (countries.length >= 2 && countries.length <= 10 ) {\r\n                renderCountries(countries);\r\n            }\r\n\r\n            if (countries.length === 1) {\r\n                renderCountry(countries);\r\n            }\r\n\r\n            loader.hideLoader();\r\n        });\r\n}\r\n\r\nfunction renderCountries(countries) {\r\n    const markup = countriesListTpl(countries);\r\n    refs.countriesList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction renderCountry(countries) {\r\n    const markup = countries.map(country => countryTpl(country));\r\n    refs.countryContainer.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction clearCountriesData() {\r\n    refs.countriesList.innerHTML = '';\r\n    refs.countryContainer.innerHTML = '';\r\n}"],"sourceRoot":""}